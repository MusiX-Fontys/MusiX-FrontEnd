(function(e){function t(t){for(var r,i,s=t[0],u=t[1],o=t[2],d=0,b=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&b.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(b.length)b.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/MusiX-FrontEnd/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var o=0;o<s.length;o++)t(s[o]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0137":function(e,t,n){"use strict";n("2eae")},"053d":function(e,t,n){"use strict";n("c1c2")},1100:function(e,t,n){e.exports=n.p+"img/background.201d3e01.jpg"},1103:function(e,t,n){},"11d3":function(e,t,n){},1876:function(e,t,n){},1987:function(e,t,n){"use strict";n("9b72")},"2ccb":function(e,t,n){"use strict";n("b62c")},"2eae":function(e,t,n){},"2f0e":function(e,t,n){},3926:function(e,t,n){"use strict";n("e112")},"3fdb":function(e,t,n){},4844:function(e,t,n){},"49cd":function(e,t,n){"use strict";n("8aff")},"50c40":function(e,t,n){},"52a0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,c,i){var s=Object(r["B"])("NavigationBar"),u=Object(r["B"])("router-view"),o=Object(r["B"])("Background");return Object(r["u"])(),Object(r["f"])("div",null,[Object(r["K"])(Object(r["j"])(s,null,null,512),[[r["H"],i.isNotSignInOrSignUpPage]]),Object(r["j"])(u,{class:Object(r["p"])({"other-page":i.isNotSignInOrSignUpPage,"sign-in-or-up-page":!i.isNotSignInOrSignUpPage}),key:this.$route.path},null,8,["class"]),Object(r["j"])(o)])}n("b0c0");var c=["src"];function i(e,t,n,a,i,s){return Object(r["u"])(),Object(r["f"])("div",null,[Object(r["g"])("img",{src:i.image,alt:""},null,8,c)])}var s=n("1100"),u=n.n(s),o={name:"Background",data:function(){return{image:u.a}}},l=(n("652a"),n("6b0d")),d=n.n(l);const b=d()(o,[["render",i],["__scopeId","data-v-662121a8"]]);var m=b,g=(n("ac1f"),n("841c"),function(e){return Object(r["x"])("data-v-416a4129"),e=e(),Object(r["v"])(),e}),p={class:"navigation-bar"},f={class:"nav-side"},j=g((function(){return Object(r["g"])("em",{class:"logo-back fas fa-square fa-stack-2x"},null,-1)})),h=g((function(){return Object(r["g"])("em",{class:"logo-front fas fa-compact-disc fa-stack-1x"},null,-1)})),O=[j,h],v=g((function(){return Object(r["g"])("h1",{class:"title"},"MusiX",-1)})),k={class:"nav-side"},w={key:0},y={key:1};function x(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",p,[Object(r["g"])("div",f,[Object(r["g"])("span",{class:"logo fa-stack fa-2x",onClick:t[0]||(t[0]=function(e){return i.redirectToPage("/home")})},O),v]),Object(r["g"])("div",k,[Object(r["g"])("form",{onSubmit:t[2]||(t[2]=Object(r["L"])((function(){return i.handleSearch&&i.handleSearch.apply(i,arguments)}),["prevent"]))},[Object(r["K"])(Object(r["g"])("input",{class:"search","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.search=e}),placeholder:"Search..."},null,512),[[r["G"],c.search]])],32),i.isUserLoggedIn()?(Object(r["u"])(),Object(r["f"])("div",w,[Object(r["g"])("label",{class:"nav-option",onClick:t[3]||(t[3]=function(e){return i.redirectToPage("/profile/".concat(i.getUserId()))})},"Profile"),Object(r["g"])("label",{class:"nav-option",onClick:t[4]||(t[4]=function(e){return i.handleLogOut()})},"Log Out")])):(Object(r["u"])(),Object(r["f"])("div",y,[Object(r["g"])("label",{class:"nav-option",onClick:t[5]||(t[5]=function(e){return i.redirectToPage("/signin")})},"Sign In"),Object(r["g"])("label",{class:"nav-option",onClick:t[6]||(t[6]=function(e){return i.redirectToPage("/signup")})},"Sign Up")]))])])}n("4c53"),n("1276"),n("5319"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("25f0");var A={parseJwt:function(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)},checkExpiration:function(e){var t=new Date(1e3*e),n=new Date;return t.getTime()<=n.getTime()}},S={name:"NavigationBar",data:function(){return{search:"",userId:""}},methods:{isUserLoggedIn:function(){return null!==localStorage.getItem("jwt")},getUserId:function(){var e=localStorage.getItem("jwt"),t=A.parseJwt(e);return t.sub},handleSearch:function(){this.$router.push("/search/".concat(this.search)),this.resetValues()},handleLogOut:function(){localStorage.removeItem("jwt"),this.$router.push("/signin"),this.resetValues()},redirectToPage:function(e){this.$router.push(e),this.resetValues()},resetValues:function(){this.search=""}}};n("8306");const T=d()(S,[["render",x],["__scopeId","data-v-416a4129"]]);var D=T,R={name:"App",components:{Background:m,NavigationBar:D},methods:{isNotSignInOrSignUpPage:function(){return"signin"!==this.$route.name&&"signup"!==this.$route.name}}};n("c0f9");const P=d()(R,[["render",a]]);var I=P,_=n("1da1"),C=(n("96cf"),n("6c02")),U=function(e){return Object(r["x"])("data-v-6a141974"),e=e(),Object(r["v"])(),e},M={id:"most-popular"},B={key:0,id:"loading"},V=U((function(){return Object(r["g"])("em",{class:"icon fas fa-spinner"},null,-1)})),$=Object(r["i"])("Loading... "),L=[V,$];function Y(e,t,n,a,c,i){var s=Object(r["B"])("PopularArtists"),u=Object(r["B"])("PopularAlbums"),o=Object(r["B"])("PopularTracks");return Object(r["u"])(),Object(r["f"])("div",M,[c.artists.length||c.albums.length||c.tracks.length?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("div",B,L)),c.artists.length?(Object(r["u"])(),Object(r["d"])(s,{key:1,artists:c.artists},null,8,["artists"])):Object(r["e"])("",!0),c.albums.length?(Object(r["u"])(),Object(r["d"])(u,{key:2,albums:c.albums},null,8,["albums"])):Object(r["e"])("",!0),c.tracks.length?(Object(r["u"])(),Object(r["d"])(o,{key:3,tracks:c.tracks},null,8,["tracks"])):Object(r["e"])("",!0)])}var H=function(e){return Object(r["x"])("data-v-6dd8144c"),e=e(),Object(r["v"])(),e},E={id:"artists"},z=H((function(){return Object(r["g"])("label",{id:"header"},"Most Popular Artists",-1)}));function N(e,t,n,a,c,i){var s=Object(r["B"])("PopularItem");return Object(r["u"])(),Object(r["f"])("div",E,[z,(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.artists,(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+1,image:e.image,name:e.name,type:"artist",onClick:function(t){return i.redirectToArtist(e.id)}},null,8,["id","index","image","name","onClick"])})),128))])}var q={id:"index"},F=["src"],G={id:"name"};function J(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"item",onClick:t[0]||(t[0]=function(){return i.redirectToPage&&i.redirectToPage.apply(i,arguments)})},[Object(r["g"])("label",q,Object(r["D"])(n.index)+".",1),Object(r["g"])("img",{src:n.image,alt:"",onerror:"this.style.display='none'"},null,8,F),Object(r["g"])("label",G,Object(r["D"])(n.name),1)])}n("a9e3"),n("99af");var K={props:{id:String,index:Number,image:String,name:String,type:String},methods:{redirectToPage:function(){this.$router.push("/".concat(this.type,"/").concat(this.id))}}};n("dcfa");const X=d()(K,[["render",J],["__scopeId","data-v-4a652af0"]]);var Q=X,Z={props:{artists:Array},components:{PopularItem:Q},methods:{redirectToArtist:function(e){this.$router.push("/artist/".concat(e))}}};n("f52f");const W=d()(Z,[["render",N],["__scopeId","data-v-6dd8144c"]]);var ee=W,te=function(e){return Object(r["x"])("data-v-22fb3580"),e=e(),Object(r["v"])(),e},ne={id:"albums"},re=te((function(){return Object(r["g"])("label",{id:"header"},"Most Popular Albums",-1)}));function ae(e,t,n,a,c,i){var s=Object(r["B"])("PopularItem");return Object(r["u"])(),Object(r["f"])("div",ne,[re,(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.albums,(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+1,image:e.image,name:e.name,type:"album",onClick:function(t){return i.redirectToAlbum(e.id)}},null,8,["id","index","image","name","onClick"])})),128))])}var ce={props:{albums:Array},components:{PopularItem:Q},methods:{redirectToAlbum:function(e){this.$router.push("/album/".concat(e))}}};n("6c6a");const ie=d()(ce,[["render",ae],["__scopeId","data-v-22fb3580"]]);var se=ie,ue=function(e){return Object(r["x"])("data-v-23f6e3e8"),e=e(),Object(r["v"])(),e},oe={id:"tracks"},le=ue((function(){return Object(r["g"])("label",{id:"header"},"Most Popular Tracks",-1)}));function de(e,t,n,a,c,i){var s=Object(r["B"])("PopularItem");return Object(r["u"])(),Object(r["f"])("div",oe,[le,(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.tracks,(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+1,image:e.image,name:e.name,type:"track",onClick:function(t){return i.redirectToTrack(e.id)}},null,8,["id","index","image","name","onClick"])})),128))])}var be={props:{tracks:Array},components:{PopularItem:Q},methods:{redirectToTrack:function(e){this.$router.push("/track/".concat(e))}}};n("d971");const me=d()(be,[["render",de],["__scopeId","data-v-23f6e3e8"]]);var ge=me,pe=n("bc3a"),fe=n.n(pe),je="http://localhost:8080/api",he={getHeaders:function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt")),SpotifyToken:"".concat(localStorage.getItem("access_token"))}}},updateRecentlyPlayed:function(){try{fe.a.get("".concat(je,"/Spotify/recently-played"),this.getHeaders())}catch(e){alert("Scrobble Error")}},getMostPopularArtists:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(je,"/Scrobble/popular-artists"),e.getHeaders());case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"],artists:n.data["data"]["artists"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getMostPopularAlbums:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(je,"/Scrobble/popular-albums"),e.getHeaders());case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"],albums:n.data["data"]["albums"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getMostPopularTracks:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(je,"/Scrobble/popular-tracks"),e.getHeaders());case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"],tracks:n.data["data"]["tracks"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getUserScrobbledArtists:function(e,t,n){return Object(_["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fe.a.get("".concat(je,"/Scrobble/").concat(e,"/artists?from=").concat(t,"&to=").concat(n));case 3:a=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),a=r.t0.response;case 9:return r.abrupt("return",{success:a.data["success"],message:a.data["message"],artists:a.data["data"]["artists"]});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getUserScrobbledAlbums:function(e,t,n){return Object(_["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fe.a.get("".concat(je,"/Scrobble/").concat(e,"/albums?from=").concat(t,"&to=").concat(n));case 3:a=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),a=r.t0.response;case 9:return r.abrupt("return",{success:a.data["success"],message:a.data["message"],albums:a.data["data"]["albums"]});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getUserScrobbledTracks:function(e,t,n){return Object(_["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fe.a.get("".concat(je,"/Scrobble/").concat(e,"/tracks?from=").concat(t,"&to=").concat(n));case 3:a=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),a=r.t0.response;case 9:return r.abrupt("return",{success:a.data["success"],message:a.data["message"],tracks:a.data["data"]["tracks"]});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},Oe={data:function(){return{artists:[],albums:[],tracks:[]}},components:{PopularArtists:ee,PopularAlbums:se,PopularTracks:ge},created:function(){this.getMostPopularArtists(),this.getMostPopularAlbums(),this.getMostPopularTracks()},methods:{getMostPopularArtists:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,he.getMostPopularArtists();case 2:n=t.sent,n.success?e.artists=n.artists:alert(n.message);case 4:case"end":return t.stop()}}),t)})))()},getMostPopularAlbums:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,he.getMostPopularAlbums();case 2:n=t.sent,n.success?e.albums=n.albums:alert(n.message);case 4:case"end":return t.stop()}}),t)})))()},getMostPopularTracks:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,he.getMostPopularTracks();case 2:n=t.sent,n.success?e.tracks=n.tracks:alert(n.message);case 4:case"end":return t.stop()}}),t)})))()}}};n("a839");const ve=d()(Oe,[["render",Y],["__scopeId","data-v-6a141974"]]);var ke=ve,we=function(e){return Object(r["x"])("data-v-5e8df814"),e=e(),Object(r["v"])(),e},ye={class:"panel"},xe=Object(r["h"])('<div class="top-section" data-v-5e8df814><span class="logo fa-stack fa-2x" data-v-5e8df814><em class="logo-back fas fa-square fa-stack-2x" data-v-5e8df814></em><em class="logo-front fas fa-compact-disc fa-stack-1x" data-v-5e8df814></em></span><h1 class="title" data-v-5e8df814>MusiX</h1></div>',1),Ae={class:"section"},Se={class:"input"},Te=we((function(){return Object(r["g"])("em",{class:"icon fas fa-envelope"},null,-1)})),De=we((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),Re={class:"input"},Pe=we((function(){return Object(r["g"])("em",{class:"icon fas fa-user"},null,-1)})),Ie=we((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),_e={class:"section"},Ce=Object(r["i"])("Already have an account?");function Ue(e,t,n,a,c,i){var s=Object(r["B"])("router-link");return Object(r["u"])(),Object(r["f"])("div",ye,[xe,Object(r["g"])("div",Ae,[Object(r["g"])("div",Se,[Te,De,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email=e}),class:"input-field",placeholder:"Email"},null,512),[[r["G"],c.email]])]),Object(r["g"])("div",Re,[Pe,Ie,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e}),class:"input-field",placeholder:"Username"},null,512),[[r["G"],c.username]])])]),Object(r["g"])("div",_e,[Object(r["j"])(s,{to:"signin",class:"existing-account"},{default:Object(r["J"])((function(){return[Ce]})),_:1}),Object(r["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return i.handleSignUp&&i.handleSignUp.apply(i,arguments)})},"Sign Up")])])}n("498a");var Me="http://localhost:8080/api",Be={signUp:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("".concat(Me,"/Registration"),e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},Ve={data:function(){return{email:"",username:""}},methods:{handleSignUp:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.email.trim()&&t.username.trim()){n.next=4;break}return alert("All fields need to be filled in."),n.abrupt("return");case 4:return r={email:t.email,username:t.username},n.next=7,Be.signUp(r);case 7:a=n.sent,a.success?(alert(a.message),t.$router.push("signin")):alert(a.message);case 9:case"end":return n.stop()}}),n)})))()}}};n("3926");const $e=d()(Ve,[["render",Ue],["__scopeId","data-v-5e8df814"]]);var Le=$e,Ye=function(e){return Object(r["x"])("data-v-9e838f72"),e=e(),Object(r["v"])(),e},He={class:"panel"},Ee=Object(r["h"])('<div class="top-section" data-v-9e838f72><span class="logo fa-stack fa-2x" data-v-9e838f72><em class="logo-back fas fa-square fa-stack-2x" data-v-9e838f72></em><em class="logo-front fas fa-compact-disc fa-stack-1x" data-v-9e838f72></em></span><h1 class="title" data-v-9e838f72>MusiX</h1></div>',1),ze={class:"section"},Ne={class:"input"},qe=Ye((function(){return Object(r["g"])("em",{class:"icon fas fa-envelope"},null,-1)})),Fe=Ye((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),Ge={class:"input"},Je=Ye((function(){return Object(r["g"])("em",{class:"icon fas fa-lock"},null,-1)})),Ke=Ye((function(){return Object(r["g"])("div",{class:"line"},null,-1)})),Xe={class:"section"},Qe=Object(r["i"])("Forgot Password?");function Ze(e,t,n,a,c,i){var s=Object(r["B"])("router-link");return Object(r["u"])(),Object(r["f"])("div",He,[Ee,Object(r["g"])("div",ze,[Object(r["g"])("div",Ne,[qe,Fe,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email=e}),class:"input-field",placeholder:"Email"},null,512),[[r["G"],c.email]])]),Object(r["g"])("div",Ge,[Je,Ke,Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),type:"password",class:"input-field",placeholder:"Password"},null,512),[[r["G"],c.password]])])]),Object(r["g"])("div",Xe,[Object(r["j"])(s,{to:"signin",class:"existing-account"},{default:Object(r["J"])((function(){return[Qe]})),_:1}),Object(r["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return i.handleSignIn&&i.handleSignIn.apply(i,arguments)})},"Sign In")])])}var We="http://localhost:8080/api",et={signIn:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("".concat(We,"/Authentication"),e);case 3:return n=t.sent,t.abrupt("return",{success:n.data["success"],token:n.data["data"]["token"]});case 7:return t.prev=7,t.t0=t["catch"](0),n=t.t0.response,t.abrupt("return",{success:n.data["success"],message:n.data["message"]});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},tt=(n("3ca3"),n("ddb0"),n("9861"),"eeb5edaab5bc467da9af39fa15d680a7"),nt="843dd7e7fa724d33bc904c0e460c76c2",rt="https://musix-fontys.github.io/MusiX-FrontEnd/authorized",at="http://localhost:8080/api",ct={getHeaders:function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}},hasUserSetUpSpotifyConnection:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=localStorage.getItem("jwt")){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,fe.a.get("".concat(at,"/Spotify/spotify-connection"),e.getHeaders());case 5:return n=t.sent,t.abrupt("return",n.data["data"]["connection"]);case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getAuthorizationUrl:function(){var e={client_id:tt,response_type:"code",redirect_uri:rt,scope:"user-read-private user-read-recently-played user-read-playback-state user-read-currently-playing user-top-read"},t=this.encodeQueryParams(e);return"https://accounts.spotify.com/authorize?".concat(t)},encodeQueryParams:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},getAccessToken:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new URLSearchParams,n.append("grant_type","authorization_code"),n.append("code",e),n.append("redirect_uri",rt),r={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa(tt+":"+nt))}},t.next=7,fe.a.post("https://accounts.spotify.com/api/token",n,r);case 7:return a=t.sent,t.abrupt("return",{access_token:a.data["access_token"],exp_time:a.data["expires_in"]});case 9:case"end":return t.stop()}}),t)})))()}},it={data:function(){return{email:"",password:""}},methods:{handleSignIn:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.email.trim()&&t.password.trim()){n.next=4;break}return alert("All fields need to be filled in."),n.abrupt("return");case 4:return r={email:t.email,password:t.password},n.next=7,et.signIn(r);case 7:if(a=n.sent,!a.success){n.next=17;break}return localStorage.setItem("jwt",a.token),n.next=12,ct.hasUserSetUpSpotifyConnection();case 12:if(n.sent){n.next=14;break}window.location.href=ct.getAuthorizationUrl();case 14:null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("home"),n.next=18;break;case 17:alert(a.message);case 18:case"end":return n.stop()}}),n)})))()}}};n("c82a");const st=d()(it,[["render",Ze],["__scopeId","data-v-9e838f72"]]);var ut=st,ot=function(e){return Object(r["x"])("data-v-428a5709"),e=e(),Object(r["v"])(),e},lt={key:0,id:"loading"},dt=ot((function(){return Object(r["g"])("em",{class:"icon fas fa-spinner"},null,-1)})),bt=Object(r["i"])("Loading... "),mt=[dt,bt],gt={key:1,id:"panel"},pt={id:"top"},ft=ot((function(){return Object(r["g"])("img",{src:"https://www.multisignaal.nl/wp-content/uploads/2021/08/blank-profile-picture-973460_1280.png",id:"profile-pic",alt:""},null,-1)})),jt={id:"top-right"},ht={id:"title"},Ot={key:0},vt=ot((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Favorites")],-1)})),kt={id:"favorites"},wt={key:1,id:"mid"},yt=ot((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Recently Played")],-1)})),xt={key:2},At={class:"album-header"},St=ot((function(){return Object(r["g"])("label",{class:"header"},"Top Artists",-1)})),Tt=Object(r["h"])('<option value="7" data-v-428a5709>Last 7 Days</option><option value="30" data-v-428a5709>Last 30 Days</option><option value="90" data-v-428a5709>Last 90 Days</option><option value="180" data-v-428a5709>Last 180 Days</option><option value="365" data-v-428a5709>Last 365 Days</option><option value="1000" selected data-v-428a5709>All Time</option>',6),Dt=[Tt],Rt={class:"albums"},Pt={key:3},It={class:"album-header"},_t=ot((function(){return Object(r["g"])("label",{class:"header"},"Top Albums",-1)})),Ct=Object(r["h"])('<option value="7" data-v-428a5709>Last 7 Days</option><option value="30" data-v-428a5709>Last 30 Days</option><option value="90" data-v-428a5709>Last 90 Days</option><option value="180" data-v-428a5709>Last 180 Days</option><option value="365" data-v-428a5709>Last 365 Days</option><option value="1000" selected data-v-428a5709>All Time</option>',6),Ut=[Ct],Mt={class:"albums"},Bt={key:4},Vt={class:"album-header"},$t=ot((function(){return Object(r["g"])("label",{class:"header"},"Top Tracks",-1)})),Lt=Object(r["h"])('<option value="7" data-v-428a5709>Last 7 Days</option><option value="30" data-v-428a5709>Last 30 Days</option><option value="90" data-v-428a5709>Last 90 Days</option><option value="180" data-v-428a5709>Last 180 Days</option><option value="365" data-v-428a5709>Last 365 Days</option><option value="1000" selected data-v-428a5709>All Time</option>',6),Yt=[Lt],Ht={class:"albums"},Et=ot((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Comment Section")],-1)})),zt={class:"albums"};function Nt(e,t,n,a,c,i){var s=Object(r["B"])("Favorite"),u=Object(r["B"])("RecentlyPlayed"),o=Object(r["B"])("ScrobbledItems"),l=Object(r["B"])("CommentSection");return void 0===c.user.id?(Object(r["u"])(),Object(r["f"])("div",lt,mt)):(Object(r["u"])(),Object(r["f"])("div",gt,[Object(r["g"])("div",pt,[ft,Object(r["g"])("div",jt,[Object(r["g"])("label",ht,Object(r["D"])(c.user.username),1),c.ownProfile||c.following?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("button",{key:0,id:"follow",onClick:t[0]||(t[0]=function(e){return i.followUser()})},"Follow")),!c.ownProfile&&c.following?(Object(r["u"])(),Object(r["f"])("button",{key:1,id:"unfollow",onClick:t[1]||(t[1]=function(e){return i.unfollowUser()})},"Unfollow")):Object(r["e"])("",!0)])]),c.artists.length&&c.albums.length&&c.tracks.length?(Object(r["u"])(),Object(r["f"])("div",Ot,[vt,Object(r["g"])("div",kt,[Object(r["j"])(s,{item:c.favoriteArtist,type:"Artist"},null,8,["item"]),Object(r["j"])(s,{item:c.favoriteAlbum,type:"Album"},null,8,["item"]),Object(r["j"])(s,{item:c.favoriteTrack,type:"Track"},null,8,["item"])])])):Object(r["e"])("",!0),c.ownProfile&&c.recentlyPlayed.length?(Object(r["u"])(),Object(r["f"])("div",wt,[yt,Object(r["g"])("div",null,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.recentlyPlayed,(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.track.id,id:e.track.id,name:e.track.name,image:e.track.album.images[0].url,playedAt:e.played_at},null,8,["id","name","image","playedAt"])})),128))])])):Object(r["e"])("",!0),c.artists.length&&c.albums.length&&c.tracks.length?(Object(r["u"])(),Object(r["f"])("div",xt,[Object(r["g"])("div",At,[St,Object(r["K"])(Object(r["g"])("select",{class:"change-view",onChange:t[2]||(t[2]=function(e){return i.getScrobbledArtists(i.getDisplayDate(c.artistDate))}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.artistDate=e})},Dt,544),[[r["F"],c.artistDate]])]),Object(r["g"])("div",Rt,[Object(r["j"])(o,{items:c.artists.slice(0,5),type:"artist"},null,8,["items"])])])):Object(r["e"])("",!0),c.artists.length&&c.albums.length&&c.tracks.length?(Object(r["u"])(),Object(r["f"])("div",Pt,[Object(r["g"])("div",It,[_t,Object(r["K"])(Object(r["g"])("select",{class:"change-view",onChange:t[4]||(t[4]=function(e){return i.getScrobbledAlbums(i.getDisplayDate(c.albumsDate))}),"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.albumsDate=e})},Ut,544),[[r["F"],c.albumsDate]])]),Object(r["g"])("div",Mt,[Object(r["j"])(o,{items:c.albums.slice(0,5),type:"album"},null,8,["items"])])])):Object(r["e"])("",!0),c.artists.length&&c.albums.length&&c.tracks.length?(Object(r["u"])(),Object(r["f"])("div",Bt,[Object(r["g"])("div",Vt,[$t,Object(r["K"])(Object(r["g"])("select",{class:"change-view",onChange:t[6]||(t[6]=function(e){return i.getScrobbledTracks(i.getDisplayDate(c.tracksDate))}),"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.tracksDate=e})},Yt,544),[[r["F"],c.tracksDate]])]),Object(r["g"])("div",Ht,[Object(r["j"])(o,{items:c.tracks.slice(0,5),type:"track"},null,8,["items"])])])):Object(r["e"])("",!0),Object(r["g"])("div",null,[Et,Object(r["g"])("div",zt,[Object(r["j"])(l,{id:c.id,comments:c.user.comments},null,8,["id","comments"])])])]))}var qt=["src"];function Ft(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"favorite",onClick:t[0]||(t[0]=function(e){return i.redirectToPage()})},[Object(r["g"])("label",null,Object(r["D"])(n.type),1),Object(r["g"])("img",{src:n.item.image,alt:""},null,8,qt),Object(r["g"])("label",null,Object(r["D"])(n.item.name),1)])}var Gt={props:{item:Object,type:String},methods:{redirectToPage:function(){this.$router.push("/".concat(this.type.toLowerCase(),"/").concat(this.item.id))}}};n("1987");const Jt=d()(Gt,[["render",Ft],["__scopeId","data-v-26ccdc4a"]]);var Kt=Jt,Xt=["src"],Qt={id:"name"},Zt={id:"played-at"};function Wt(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"item",onClick:t[0]||(t[0]=function(){return i.redirectToTrack&&i.redirectToTrack.apply(i,arguments)})},[Object(r["g"])("img",{src:n.image,alt:"",onerror:"this.style.display='none'"},null,8,Xt),Object(r["g"])("label",Qt,Object(r["D"])(n.name),1),Object(r["g"])("label",Zt,Object(r["D"])(n.playedAt),1)])}var en={props:{id:String,image:String,name:String,playedAt:String},methods:{redirectToTrack:function(){this.$router.push("/track/".concat(this.id))}}};n("49cd");const tn=d()(en,[["render",Wt],["__scopeId","data-v-7cdefe8a"]]);var nn=tn,rn={id:"items"},an={id:"name-head"},cn={id:"plays-head"},sn={id:"side"},un=["onClick"],on={class:"name-side"},ln={class:"plays-side"};function dn(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",rn,[Object(r["g"])("div",{id:"head",style:Object(r["q"])({backgroundImage:"url(".concat(n.items[0][n.type].image,")")}),onClick:t[0]||(t[0]=function(e){return i.redirectToPage(n.items[0][n.type].id)})},[Object(r["g"])("label",an,Object(r["D"])(n.items[0][n.type].name),1),Object(r["g"])("label",cn,Object(r["D"])(n.items[0].scrobbleAmount)+" plays",1)],4),Object(r["g"])("div",sn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.items.slice(1,5),(function(e){return Object(r["u"])(),Object(r["f"])("div",{key:e[n.type].id,class:"side-item",style:Object(r["q"])({backgroundImage:"url(".concat(e[n.type].image,")")}),onClick:function(t){return i.redirectToPage(e[n.type].id)}},[Object(r["g"])("label",on,Object(r["D"])(e[n.type].name),1),Object(r["g"])("label",ln,Object(r["D"])(e.scrobbleAmount)+" plays",1)],12,un)})),128))])])}var bn={props:{items:Array,type:String},methods:{redirectToPage:function(e){this.$router.push("/".concat(this.type,"/").concat(e))}}};n("71eb");const mn=d()(bn,[["render",dn],["__scopeId","data-v-59d51b40"]]);var gn=mn,pn={id:"section"},fn=["onClick"],jn={id:"add-comment"};function hn(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",pn,[Object(r["g"])("div",null,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.currentComments,(function(e){return Object(r["u"])(),Object(r["f"])("div",{key:e.id,class:"comment"},[Object(r["g"])("label",{class:"name",onClick:function(t){return i.redirectToProfile(e.id)}},Object(r["D"])(e.name),9,fn),Object(r["g"])("label",null,Object(r["D"])(e.comment),1)])})),128))]),Object(r["g"])("div",jn,[Object(r["K"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.comment=e})},null,512),[[r["G"],c.comment]]),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(e){return i.addComment()})},"Add Comment")])])}var On="http://localhost:8080/api",vn={getHeaders:function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}},postComment:function(e,t){var n=this;return Object(_["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fe.a.post("".concat(On,"/Comment/").concat(e),{comment:t},n.getHeaders());case 3:a=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),a=r.t0.response;case 9:return r.abrupt("return",{success:a.data["success"],message:a.data["message"]});case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},kn={data:function(){return{comment:"",currentComments:[]}},props:{id:String,comments:Array},created:function(){this.setComments()},methods:{setComments:function(){this.currentComments=this.comments},redirectToProfile:function(e){this.$router.push("/profile/".concat(e))},addComment:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getUserInfo(),e.currentComments.push({id:n.id,name:n.name,comment:e.comment}),t.next=4,vn.postComment(e.id,e.comment);case 4:e.comment="";case 5:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=localStorage.getItem("jwt"),t=A.parseJwt(e);return{id:t.sub,name:t.name}}}};n("e4a8");const wn=d()(kn,[["render",hn],["__scopeId","data-v-70c90fbe"]]);var yn=wn,xn="http://localhost:8080/api",An={getHeaders:function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}},getProfileById:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(xn,"/Profile/").concat(e));case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"],profile:n.data["data"]["profile"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getProfilesBySearchQuery:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(xn,"/Profile/search/").concat(e));case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n=t.t0.response;case 9:return t.abrupt("return",{success:n.data["success"],message:n.data["message"],profiles:n.data["data"]["profiles"]});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},followUser:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.put("".concat(xn,"/Profile/follow/").concat(e),null,t.getHeaders());case 3:r=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),r=n.t0.response;case 9:return n.abrupt("return",{success:r.data["success"],message:r.data["message"]});case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},unfollowUser:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.put("".concat(xn,"/Profile/unfollow/").concat(e),null,t.getHeaders());case 3:r=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),r=n.t0.response;case 9:return n.abrupt("return",{success:r.data["success"],message:r.data["message"]});case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()}},Sn=(n("159b"),n("4e82"),{getTimeDifference:function(e){var t=new Date,n=new Date(e),r=Math.round((t-n)/1e3);return r<60?"".concat(r," Seconds Ago"):r<3600?"".concat(Math.round(r/60)," Minutes Ago"):r<86400?"".concat(Math.round(r/3600)," Hours Ago"):"".concat(Math.round(r/86400)," Days Ago")}}),Tn="https://api.spotify.com/v1",Dn={getHeaders:function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),"Content-Type":"application/json"}}},getRecentlyPlayed:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/me/player/recently-played?limit=").concat(e),t.getHeaders());case 3:return r=n.sent,a=r.data["items"],a.forEach((function(e){e.played_at=Sn.getTimeDifference(e.played_at)})),n.abrupt("return",a);case 9:return n.prev=9,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getCurrentlyPlaying:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("".concat(Tn,"/me/player/currently-playing"),e.getHeaders());case 3:if(n=t.sent,204!==n.status){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",n.data["item"]);case 9:return t.prev=9,t.t0=t["catch"](0),console.log(t.t0.response),t.abrupt("return",t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSearchResults:function(e,t,n){var r=this;return Object(_["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fe.a.get("".concat(Tn,"/search?q=").concat(e.replace(/ /g,"%20"),"&type=").concat(t,"&offset=").concat(12*(n-1),"&limit=12"),r.getHeaders());case 3:if(c=a.sent,"artist"!==t){a.next=8;break}return a.abrupt("return",{success:!0,items:c.data["artists"]["items"],total:c.data["artists"]["total"]});case 8:if("album"!==t){a.next=12;break}return a.abrupt("return",{success:!0,items:c.data["albums"]["items"],total:c.data["albums"]["total"]});case 12:if("track"!==t){a.next=14;break}return a.abrupt("return",{success:!0,items:c.data["tracks"]["items"],total:c.data["tracks"]["total"]});case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a["catch"](0),console.log(a.t0.response),a.abrupt("return",a.t0.response);case 20:case"end":return a.stop()}}),a,null,[[0,16]])})))()},getArtistInfo:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/artists/").concat(e),t.getHeaders());case 3:return r=n.sent,a=r.data,n.abrupt("return",{id:a.id,name:a.name,image:a.images.length?a.images[0].url:null,spotify:a.external_urls.spotify});case 8:return n.prev=8,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getArtistAlbums:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/artists/").concat(e,"/albums?include_groups=album&limit=50"),t.getHeaders());case 3:return r=n.sent,a=r.data.items.sort((function(e){return e.available_markets.length})),c=[],a.forEach((function(e){c.some((function(t){return t.name===e.name}))||c.push({id:e.id,name:e.name,image:e.images.length?e.images[0].url:null,release_date:e.release_date})})),n.abrupt("return",c);case 10:return n.prev=10,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getArtistSinglesAndEPs:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/artists/").concat(e,"/albums?include_groups=single&limit=50"),t.getHeaders());case 3:return r=n.sent,a=r.data.items.sort((function(e){return e.available_markets.length})),c=[],a.forEach((function(e){c.some((function(t){return t.name===e.name}))||c.push({id:e.id,name:e.name,image:e.images.length?e.images[0].url:null,release_date:e.release_date})})),n.abrupt("return",c);case 10:return n.prev=10,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getArtistTopTracks:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/artists/").concat(e,"/top-tracks?market=US"),t.getHeaders());case 3:return r=n.sent,a=r.data.tracks,c=[],a.forEach((function(e){c.push({id:e.id,name:e.name,image:e.album.images.length?e.album.images[0].url:null})})),n.abrupt("return",c);case 10:return n.prev=10,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getAlbumInfo:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/albums/").concat(e),t.getHeaders());case 3:return r=n.sent,a=r.data,console.log(a),n.abrupt("return",{id:a.id,name:a.name,image:a.images.length?a.images[0].url:null,spotify:a.external_urls.spotify,tracks:a.tracks.items,artists:a.artists});case 9:return n.prev=9,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getTrackInfo:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.get("".concat(Tn,"/tracks/").concat(e),t.getHeaders());case 3:return r=n.sent,a=r.data,console.log(a),n.abrupt("return",{id:a.id,name:a.name,image:a.album.images.length?a.album.images[0].url:null,release_date:a.album.release_date,duration:a.duration_ms,spotify:a.external_urls.spotify,artists:a.artists});case 9:return n.prev=9,n.t0=n["catch"](0),console.log(n.t0.response),n.abrupt("return",n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},Rn={data:function(){return{ownProfile:!1,following:!1,id:"",user:{},currentUser:{},recentlyPlayed:[],artists:[],favoriteArtist:null,artistDate:1e3,albums:[],favoriteAlbum:null,albumsDate:1e3,tracks:[],favoriteTrack:null,tracksDate:1e3}},components:{Favorite:Kt,RecentlyPlayed:nn,ScrobbledItems:gn,CommentSection:yn},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserId(),e.getProfile(),e.getRecentlyPlayed(),e.getScrobbledArtists(new Date("2021-01-01T00:00:00Z")),e.getScrobbledAlbums(new Date("2021-01-01T00:00:00Z")),e.getScrobbledTracks(new Date("2021-01-01T00:00:00Z")),t.next=8,e.getUser();case 8:e.getUserInfo();case 9:case"end":return t.stop()}}),t)})))()},methods:{getUserId:function(){this.id=this.$route.params.id},getProfile:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,An.getProfileById(e.id);case 2:n=t.sent,e.user=n.profile;case 4:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),r=A.parseJwt(n),a=r.sub,t.next=5,An.getProfileById(a);case 5:c=t.sent,e.currentUser=c.profile;case 7:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=this;this.currentUser.id===this.id&&(this.ownProfile=!0),this.currentUser.following.some((function(t){return t===e.id}))&&(this.following=!0),console.log(this.ownProfile),console.log(this.following)},getRecentlyPlayed:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getCurrentlyPlaying();case 2:if(n=t.sent,null===n){t.next=10;break}return t.next=6,Dn.getRecentlyPlayed(9);case 6:e.recentlyPlayed=t.sent,e.recentlyPlayed.unshift({track:n,played_at:"Playing Now"}),t.next=13;break;case 10:return t.next=12,Dn.getRecentlyPlayed(10);case 12:e.recentlyPlayed=t.sent;case 13:case"end":return t.stop()}}),t)})))()},getScrobbledArtists:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,he.getUserScrobbledArtists(t.id,t.dateToYYYYMMDD(e),t.dateToYYYYMMDD(new Date((new Date).setDate((new Date).getDate()+1))));case 2:r=n.sent,null===t.favoriteArtist&&r.artists.length&&(t.favoriteArtist=r.artists[0].artist),t.artists=r.artists;case 5:case"end":return n.stop()}}),n)})))()},getScrobbledAlbums:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,he.getUserScrobbledAlbums(t.id,t.dateToYYYYMMDD(e),t.dateToYYYYMMDD(new Date((new Date).setDate((new Date).getDate()+1))));case 2:r=n.sent,null===t.favoriteAlbum&&r.albums.length&&(t.favoriteAlbum=r.albums[0].album),t.albums=r.albums;case 5:case"end":return n.stop()}}),n)})))()},getScrobbledTracks:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,he.getUserScrobbledTracks(t.id,t.dateToYYYYMMDD(e),t.dateToYYYYMMDD(new Date((new Date).setDate((new Date).getDate()+1))));case 2:r=n.sent,null===t.favoriteTrack&&r.tracks.length&&(t.favoriteTrack=r.tracks[0].track),t.tracks=r.tracks;case 5:case"end":return n.stop()}}),n)})))()},getDisplayDate:function(e){return new Date((new Date).setDate((new Date).getDate()-e))},dateToYYYYMMDD:function(e){return e&&new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().split("T")[0]},followUser:function(){this.following=!0,An.followUser(this.id)},unfollowUser:function(){this.following=!1,An.unfollowUser(this.id)}}};n("e1ca");const Pn=d()(Rn,[["render",Nt],["__scopeId","data-v-428a5709"]]);var In=Pn,_n=function(e){return Object(r["x"])("data-v-c8329034"),e=e(),Object(r["v"])(),e},Cn={id:"panel"},Un={id:"top"},Mn=["src"],Bn={id:"top-right"},Vn={id:"title"},$n=Object(r["i"])("Open In Spotify"),Ln=_n((function(){return Object(r["g"])("em",{class:"icon fab fa-spotify"},null,-1)})),Yn=[$n,Ln],Hn={id:"mid"},En={class:"album-header"},zn=_n((function(){return Object(r["g"])("label",{class:"header"},"Popular Tracks",-1)})),Nn={key:0},qn={key:1,id:"tracks"},Fn={class:"track-list"},Gn={class:"track-list"},Jn={class:"album-header"},Kn=_n((function(){return Object(r["g"])("label",{class:"header"},"Albums",-1)})),Xn={key:0,class:"albums"},Qn={key:1,class:"albums"},Zn={class:"album-header"},Wn=_n((function(){return Object(r["g"])("label",{class:"header"},"Singles & EP's",-1)})),er={key:0,class:"albums"},tr={key:1,class:"albums"};function nr(e,t,n,a,c,i){var s=Object(r["B"])("PopularTrack"),u=Object(r["B"])("ArtistAlbum");return Object(r["u"])(),Object(r["f"])("div",Cn,[Object(r["g"])("div",Un,[Object(r["g"])("img",{src:c.artist.image,id:"profile-pic",alt:""},null,8,Mn),Object(r["g"])("div",Bn,[Object(r["g"])("label",Vn,Object(r["D"])(this.artist.name),1),Object(r["g"])("button",{id:"spotify",onClick:t[0]||(t[0]=function(){return i.redirectToSpotify&&i.redirectToSpotify.apply(i,arguments)})},Yn)])]),Object(r["g"])("div",Hn,[Object(r["g"])("div",En,[zn,c.tracksViewAll?(Object(r["u"])(),Object(r["f"])("label",{key:1,class:"change-view",onClick:t[2]||(t[2]=function(e){return c.tracksViewAll=!1})},"View Less")):(Object(r["u"])(),Object(r["f"])("label",{key:0,class:"change-view",onClick:t[1]||(t[1]=function(e){return c.tracksViewAll=!0})},"View All"))]),c.tracksViewAll?(Object(r["u"])(),Object(r["f"])("div",qn,[Object(r["g"])("div",Fn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.popularTracks.slice(0,5),(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+1,name:e.name,image:e.image,type:"track"},null,8,["id","index","name","image"])})),128))]),Object(r["g"])("div",Gn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.popularTracks.slice(5,10),(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+6,name:e.name,image:e.image,type:"track"},null,8,["id","index","name","image"])})),128))])])):(Object(r["u"])(),Object(r["f"])("div",Nn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.popularTracks.slice(0,5),(function(e,t){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,index:t+1,name:e.name,image:e.image,type:"track"},null,8,["id","index","name","image"])})),128))]))]),Object(r["g"])("div",null,[Object(r["g"])("div",Jn,[Kn,!c.albumsViewAll&&c.albums.length>4?(Object(r["u"])(),Object(r["f"])("label",{key:0,class:"change-view",onClick:t[3]||(t[3]=function(e){return c.albumsViewAll=!0})},"View All")):c.albums.length>4?(Object(r["u"])(),Object(r["f"])("label",{key:1,class:"change-view",onClick:t[4]||(t[4]=function(e){return c.albumsViewAll=!1})},"View Less")):Object(r["e"])("",!0)]),c.albumsViewAll?(Object(r["u"])(),Object(r["f"])("div",Qn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.albums,(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))])):(Object(r["u"])(),Object(r["f"])("div",Xn,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.albums.slice(0,4),(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))]))]),Object(r["g"])("div",null,[Object(r["g"])("div",Zn,[Wn,!c.singlesViewAll&&c.singles.length>4?(Object(r["u"])(),Object(r["f"])("label",{key:0,class:"change-view",onClick:t[5]||(t[5]=function(e){return c.singlesViewAll=!0})},"View All")):c.singles.length>4?(Object(r["u"])(),Object(r["f"])("label",{key:1,class:"change-view",onClick:t[6]||(t[6]=function(e){return c.singlesViewAll=!1})},"View Less")):Object(r["e"])("",!0)]),c.singlesViewAll?(Object(r["u"])(),Object(r["f"])("div",tr,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.singles,(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))])):(Object(r["u"])(),Object(r["f"])("div",er,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.singles.slice(0,4),(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))]))])])}var rr=["src"],ar={id:"name"};function cr(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"item",onClick:t[0]||(t[0]=function(){return i.redirectToAlbum&&i.redirectToAlbum.apply(i,arguments)})},[Object(r["g"])("img",{src:n.image,alt:"https://picsum.photos/200"},null,8,rr),Object(r["g"])("label",ar,Object(r["D"])(n.name),1)])}var ir={props:{id:String,name:String,image:String},methods:{redirectToAlbum:function(){this.$router.push("/album/".concat(this.id))}}};n("a26d");const sr=d()(ir,[["render",cr],["__scopeId","data-v-3cd9eabd"]]);var ur=sr,or={data:function(){return{id:"",artist:{},popularTracks:[],albums:[],singles:[],tracksViewAll:!1,albumsViewAll:!1,singlesViewAll:!1}},components:{PopularTrack:Q,ArtistAlbum:ur},created:function(){this.getArtistId(),this.getArtistInfo(),this.getArtistPopularTracks(),this.getArtistAlbums(),this.getArtistSingles()},methods:{getArtistId:function(){this.id=this.$route.params.id},getArtistInfo:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getArtistInfo(e.id);case 2:e.artist=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArtistPopularTracks:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getArtistTopTracks(e.id);case 2:e.popularTracks=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArtistAlbums:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getArtistAlbums(e.id);case 2:e.albums=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getArtistSingles:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getArtistSinglesAndEPs(e.id);case 2:e.singles=t.sent;case 3:case"end":return t.stop()}}),t)})))()},redirectToSpotify:function(){window.open(this.artist.spotify)}}};n("2ccb");const lr=d()(or,[["render",nr],["__scopeId","data-v-c8329034"]]);var dr=lr,br=function(e){return Object(r["x"])("data-v-0a2d98f0"),e=e(),Object(r["v"])(),e},mr={id:"panel"},gr={id:"top"},pr=["src"],fr={id:"top-right"},jr={id:"title"},hr=Object(r["i"])("Open In Spotify"),Or=br((function(){return Object(r["g"])("em",{class:"icon fab fa-spotify"},null,-1)})),vr=[hr,Or],kr={id:"mid"},wr=br((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Artists")],-1)})),yr={id:"mid"},xr=br((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Tracks")],-1)}));function Ar(e,t,n,a,c,i){var s=Object(r["B"])("AlbumArtist"),u=Object(r["B"])("AlbumTrack");return Object(r["u"])(),Object(r["f"])("div",mr,[Object(r["g"])("div",gr,[Object(r["g"])("img",{src:c.album.image,id:"profile-pic",alt:""},null,8,pr),Object(r["g"])("div",fr,[Object(r["g"])("label",jr,Object(r["D"])(this.album.name),1),Object(r["g"])("button",{id:"spotify",onClick:t[0]||(t[0]=function(){return i.redirectToSpotify&&i.redirectToSpotify.apply(i,arguments)})},vr)])]),Object(r["g"])("div",kr,[wr,Object(r["g"])("div",null,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.album.artists,(function(e){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))])]),Object(r["g"])("div",yr,[xr,Object(r["g"])("div",null,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.album.tracks,(function(e,t){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,index:t+1,name:e.name,duration:e.duration_ms},null,8,["id","index","name","duration"])})),128))])])])}var Sr=["src"],Tr={id:"name"};function Dr(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"item",onClick:t[0]||(t[0]=function(e){return i.redirectToArtist()})},[Object(r["g"])("img",{src:n.image,alt:""},null,8,Sr),Object(r["g"])("label",Tr,Object(r["D"])(n.name),1)])}var Rr={props:{id:String,image:String,name:String},methods:{redirectToArtist:function(){this.$router.push("/artist/".concat(this.id))}}};n("0137");const Pr=d()(Rr,[["render",Dr],["__scopeId","data-v-1732155f"]]);var Ir=Pr,_r={id:"index"},Cr={id:"name"},Ur={id:"duration"};function Mr(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"item",onClick:t[0]||(t[0]=function(e){return i.redirectToTrack()})},[Object(r["g"])("label",_r,Object(r["D"])(n.index)+".",1),Object(r["g"])("label",Cr,Object(r["D"])(n.name),1),Object(r["g"])("label",Ur,Object(r["D"])(i.millisecondsToMinutes(n.duration)),1)])}var Br={props:{id:String,index:Number,name:String,duration:Number},methods:{redirectToTrack:function(){this.$router.push("/track/".concat(this.id))},millisecondsToMinutes:function(){var e=this.duration/1e3,t=Math.floor(e/60),n=Math.round(e-60*t);return n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)}}};n("8b10");const Vr=d()(Br,[["render",Mr],["__scopeId","data-v-4bc1ddcc"]]);var $r=Vr,Lr={data:function(){return{id:"",album:{}}},components:{AlbumArtist:Ir,AlbumTrack:$r},created:function(){this.getAlbumId(),this.getAlbumInfo()},methods:{getAlbumId:function(){this.id=this.$route.params.id},getAlbumInfo:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getAlbumInfo(e.id);case 2:e.album=t.sent,e.album.artists.forEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Dn.getArtistInfo(t.id);case 2:n=e.sent,t.image=n.image;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()},redirectToSpotify:function(){window.open(this.album.spotify)}}};n("c705");const Yr=d()(Lr,[["render",Ar],["__scopeId","data-v-0a2d98f0"]]);var Hr=Yr,Er=function(e){return Object(r["x"])("data-v-c44859b8"),e=e(),Object(r["v"])(),e},zr={id:"panel"},Nr={id:"top"},qr=["src"],Fr={id:"top-right"},Gr={id:"title"},Jr=Object(r["i"])("Open In Spotify"),Kr=Er((function(){return Object(r["g"])("em",{class:"icon fab fa-spotify"},null,-1)})),Xr=[Jr,Kr],Qr={id:"mid"},Zr=Er((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Artists")],-1)})),Wr={id:"mid"},ea=Er((function(){return Object(r["g"])("div",{class:"album-header"},[Object(r["g"])("label",{class:"header"},"Info")],-1)})),ta={id:"info"},na=Object(r["i"])("Duration: "),ra=Object(r["i"])("Release Date: ");function aa(e,t,n,a,c,i){var s=Object(r["B"])("AlbumArtist");return Object(r["u"])(),Object(r["f"])("div",zr,[Object(r["g"])("div",Nr,[Object(r["g"])("img",{src:c.track.image,id:"profile-pic",alt:""},null,8,qr),Object(r["g"])("div",Fr,[Object(r["g"])("label",Gr,Object(r["D"])(this.track.name),1),Object(r["g"])("button",{id:"spotify",onClick:t[0]||(t[0]=function(){return i.redirectToSpotify&&i.redirectToSpotify.apply(i,arguments)})},Xr)])]),Object(r["g"])("div",Qr,[Zr,Object(r["g"])("div",null,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.track.artists,(function(e){return Object(r["u"])(),Object(r["d"])(s,{key:e.id,id:e.id,name:e.name,image:e.image},null,8,["id","name","image"])})),128))])]),Object(r["g"])("div",Wr,[ea,Object(r["g"])("div",ta,[Object(r["g"])("label",null,[na,Object(r["g"])("label",null,Object(r["D"])(i.getDuration())+" minutes",1)]),Object(r["g"])("label",null,[ra,Object(r["g"])("label",null,Object(r["D"])(c.track.release_date),1)])])])])}var ca={data:function(){return{id:"",track:{}}},components:{AlbumArtist:Ir},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getTrackId(),t.next=3,e.getTrackInfo();case 3:case"end":return t.stop()}}),t)})))()},methods:{getTrackId:function(){this.id=this.$route.params.id},getTrackInfo:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dn.getTrackInfo(e.id);case 2:e.track=t.sent,e.track.artists.forEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Dn.getArtistInfo(t.id);case 2:n=e.sent,t.image=n.image;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()},redirectToSpotify:function(){window.open(this.track.spotify)},getDuration:function(){var e=this.track.duration/1e3,t=Math.floor(e/60),n=Math.round(e-60*t);return n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)}}};n("053d");const ia=d()(ca,[["render",aa],["__scopeId","data-v-c44859b8"]]);var sa=ia,ua={id:"panel"},oa={id:"navbar"},la={id:"search"},da={id:"search-text"},ba=Object(r["i"])("Results for "),ma=Object(r["i"])(":"),ga={key:0,id:"search-results"},pa={key:1,id:"search-results"},fa={key:2,id:"search-results"},ja={key:3,id:"search-results"},ha={id:"search-pages"},Oa={id:"search-page"};function va(e,t,n,a,c,i){var s=this,u=Object(r["B"])("Artist"),o=Object(r["B"])("Album"),l=Object(r["B"])("Track"),d=Object(r["B"])("User");return Object(r["u"])(),Object(r["f"])("div",ua,[Object(r["g"])("div",oa,[Object(r["g"])("h1",{class:Object(r["p"])("artist"===this.searchType?"nav-item-selected":"nav-item"),onClick:t[0]||(t[0]=function(e){return i.selectSearchType("artist")})},"Artists",2),Object(r["g"])("h1",{class:Object(r["p"])("album"===this.searchType?"nav-item-selected":"nav-item"),onClick:t[1]||(t[1]=function(e){return i.selectSearchType("album")})},"Albums",2),Object(r["g"])("h1",{class:Object(r["p"])("track"===this.searchType?"nav-item-selected":"nav-item"),onClick:t[2]||(t[2]=function(e){return i.selectSearchType("track")})},"Tracks",2),Object(r["g"])("h1",{class:Object(r["p"])("user"===this.searchType?"nav-item-selected":"nav-item"),onClick:t[3]||(t[3]=function(e){return i.selectSearchType("user")})},"Users",2)]),Object(r["g"])("div",la,[Object(r["g"])("h1",da,[ba,Object(r["g"])("strong",null,'"'+Object(r["D"])(this.search)+'"',1),ma]),"artist"!==this.searchType||this.isSearching?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("div",ga,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.results,(function(e){return Object(r["u"])(),Object(r["d"])(u,{key:e.id,id:e.id,name:e.name,image:e.images.length?e.images[e.images.length-1].url:void 0,genres:e.genres},null,8,["id","name","image","genres"])})),128))])),"album"!==this.searchType||this.isSearching?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("div",pa,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.results,(function(e){return Object(r["u"])(),Object(r["d"])(o,{key:e.id,id:e.id,name:e.name,image:e.images.length?e.images[e.images.length-1].url:void 0,artists:e.artists.map((function(e){return e.name}))},null,8,["id","name","image","artists"])})),128))])),"track"!==this.searchType||this.isSearching?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("div",fa,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.results,(function(e){return Object(r["u"])(),Object(r["d"])(l,{key:e.id,id:e.id,name:e.name,image:e.album.images.length?e.album.images[e.album.images.length-1].url:void 0,artists:e.artists.map((function(e){return e.name}))},null,8,["id","name","image","artists"])})),128))])),"user"!==this.searchType||this.isSearching?Object(r["e"])("",!0):(Object(r["u"])(),Object(r["f"])("div",ja,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(c.results.slice(12*(c.page-1),12*c.page),(function(e){return Object(r["u"])(),Object(r["d"])(d,{key:e.id,id:e.id,name:e.username,image:e.image,joinDate:new Date(e.joinDate)},null,8,["id","name","image","joinDate"])})),128))])),Object(r["g"])("div",ha,[Object(r["g"])("em",{onClick:t[4]||(t[4]=function(e){return 1!==s.page?i.changePage(!1):null}),class:Object(r["p"])(1!==this.page?"page-direction fas fa-angle-left":"fas fa-angle-left")},null,2),Object(r["g"])("label",Oa,Object(r["D"])(this.page),1),Object(r["g"])("em",{onClick:t[5]||(t[5]=function(e){return s.page+1<=s.maxPages?i.changePage(!0):null}),class:Object(r["p"])(this.page+1<=this.maxPages?"page-direction fas fa-angle-right":"fas fa-angle-right")},null,2)])])])}var ka=function(e){return Object(r["x"])("data-v-29eb5daa"),e=e(),Object(r["v"])(),e},wa=["src"],ya={key:1,id:"placeholder"},xa={id:"content"},Aa={key:0},Sa=ka((function(){return Object(r["g"])("label",null,"Genres: ",-1)}));function Ta(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"component",onClick:t[0]||(t[0]=function(){return i.redirectToArtist&&i.redirectToArtist.apply(i,arguments)})},[this.image?(Object(r["u"])(),Object(r["f"])("img",{key:0,src:n.image,alt:""},null,8,wa)):(Object(r["u"])(),Object(r["f"])("div",ya,"[NO IMAGE]")),Object(r["g"])("div",xa,[Object(r["g"])("h1",null,Object(r["D"])(n.name),1),n.genres.length?(Object(r["u"])(),Object(r["f"])("div",Aa,[Sa,Object(r["i"])(Object(r["D"])(n.genres.join(", ")),1)])):Object(r["e"])("",!0)])])}var Da={props:{id:String,name:String,image:String,genres:Array},methods:{redirectToArtist:function(){this.$router.push("/artist/".concat(this.id))}}};n("bf80");const Ra=d()(Da,[["render",Ta],["__scopeId","data-v-29eb5daa"]]);var Pa=Ra,Ia=function(e){return Object(r["x"])("data-v-f0cf1552"),e=e(),Object(r["v"])(),e},_a=["src"],Ca={key:1,id:"placeholder"},Ua={id:"content"},Ma=Ia((function(){return Object(r["g"])("label",null,"Artists: ",-1)}));function Ba(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"component",onClick:t[0]||(t[0]=function(){return i.redirectToAlbum&&i.redirectToAlbum.apply(i,arguments)})},[this.image?(Object(r["u"])(),Object(r["f"])("img",{key:0,src:n.image,alt:""},null,8,_a)):(Object(r["u"])(),Object(r["f"])("div",Ca,"[NO IMAGE]")),Object(r["g"])("div",Ua,[Object(r["g"])("h1",null,Object(r["D"])(n.name),1),Object(r["g"])("div",null,[Ma,Object(r["i"])(Object(r["D"])(n.artists.join(", ")),1)])])])}var Va={props:{id:String,name:String,image:String,artists:Array},methods:{redirectToAlbum:function(){this.$router.push("/album/".concat(this.id))}}};n("7710");const $a=d()(Va,[["render",Ba],["__scopeId","data-v-f0cf1552"]]);var La=$a,Ya=function(e){return Object(r["x"])("data-v-0b66b157"),e=e(),Object(r["v"])(),e},Ha=["src"],Ea={key:1,id:"placeholder"},za={id:"content"},Na=Ya((function(){return Object(r["g"])("label",null,"Artists: ",-1)}));function qa(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"component",onClick:t[0]||(t[0]=function(){return i.redirectToTrack&&i.redirectToTrack.apply(i,arguments)})},[this.image?(Object(r["u"])(),Object(r["f"])("img",{key:0,src:n.image,alt:""},null,8,Ha)):(Object(r["u"])(),Object(r["f"])("div",Ea,"[NO IMAGE]")),Object(r["g"])("div",za,[Object(r["g"])("h1",null,Object(r["D"])(n.name),1),Object(r["g"])("div",null,[Na,Object(r["i"])(Object(r["D"])(n.artists.join(", ")),1)])])])}var Fa={props:{id:String,name:String,image:String,artists:Array},methods:{redirectToTrack:function(){this.$router.push("/track/".concat(this.id))}}};n("8da7");const Ga=d()(Fa,[["render",qa],["__scopeId","data-v-0b66b157"]]);var Ja=Ga,Ka=function(e){return Object(r["x"])("data-v-71ca9f98"),e=e(),Object(r["v"])(),e},Xa=["src"],Qa={key:1,id:"placeholder"},Za={id:"content"},Wa=Ka((function(){return Object(r["g"])("label",null,"Joined At: ",-1)}));function ec(e,t,n,a,c,i){return Object(r["u"])(),Object(r["f"])("div",{id:"component",onClick:t[0]||(t[0]=function(){return i.redirectToProfile&&i.redirectToProfile.apply(i,arguments)})},[this.image?(Object(r["u"])(),Object(r["f"])("img",{key:0,src:n.image,alt:""},null,8,Xa)):(Object(r["u"])(),Object(r["f"])("div",Qa,"[NO IMAGE]")),Object(r["g"])("div",Za,[Object(r["g"])("h1",null,Object(r["D"])(n.name),1),Object(r["g"])("div",null,[Wa,Object(r["i"])(Object(r["D"])(n.joinDate.toLocaleDateString()),1)])])])}var tc={props:{id:String,name:String,image:String,joinDate:Date},methods:{redirectToProfile:function(){this.$router.push("/profile/".concat(this.id))}}};n("d409");const nc=d()(tc,[["render",ec],["__scopeId","data-v-71ca9f98"]]);var rc=nc,ac={data:function(){return{search:"",searchType:"artist",results:[],page:1,maxPages:1,isSearching:!1}},components:{Artist:Pa,Album:La,Track:Ja,User:rc},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getSearch(),t.next=3,e.getSearchResults();case 3:case"end":return t.stop()}}),t)})))()},methods:{getSearch:function(){this.search=this.$route.params.search},getSearchResults:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("user"!==e.searchType){t.next=7;break}return t.next=3,An.getProfilesBySearchQuery(e.search);case 3:n=t.sent,n.success?(e.results=n.profiles,e.maxPages=Math.ceil(n.profiles.length/12)):alert("Something went wrong, please try again later."),t.next=11;break;case 7:return t.next=9,Dn.getSearchResults(e.search,e.searchType,e.page);case 9:r=t.sent,r.success?(e.results=r.items,e.maxPages=Math.ceil(r.total/12)):alert("Something went wrong, please try again later.");case 11:case"end":return t.stop()}}),t)})))()},selectSearchType:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.searchType!==e){n.next=2;break}return n.abrupt("return");case 2:return t.switchSearchingStatus(),t.searchType=e,t.page=1,n.next=7,t.getSearchResults();case 7:t.switchSearchingStatus();case 8:case"end":return n.stop()}}),n)})))()},changePage:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e?t.page++:t.page--,n.next=3,t.getSearchResults();case 3:case"end":return n.stop()}}),n)})))()},switchSearchingStatus:function(){this.isSearching=!this.isSearching}}};n("9d32");const cc=d()(ac,[["render",va],["__scopeId","data-v-12ef42ee"]]);var ic=cc;function sc(e,t){return Object(r["u"])(),Object(r["f"])("div")}const uc={},oc=d()(uc,[["render",sc]]);var lc=oc,dc=[{path:"/",alias:"/home",name:"home",component:ke,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:Le,meta:{guest:!0}},{path:"/signin",name:"signin",component:ut,meta:{guest:!0}},{path:"/profile/:id",name:"profile",component:In,meta:{requiresAuth:!0}},{path:"/artist/:id",name:"artist",component:dr,meta:{requiresAuth:!0}},{path:"/album/:id",name:"album",component:Hr,meta:{requiresAuth:!0}},{path:"/track/:id",name:"track",component:sa,meta:{requiresAuth:!0}},{path:"/search/:search",name:"search",component:ic,meta:{requiresAuth:!0}},{path:"/authorized",name:"authorized",component:lc,meta:{requiresAuth:!0}}],bc=Object(C["a"])({history:Object(C["b"])("/MusiX-FrontEnd/"),routes:dc});bc.beforeEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,c,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=localStorage.getItem("jwt"))try{a=A.parseJwt(localStorage.getItem("jwt")),c=A.checkExpiration(a["exp"]),c&&localStorage.removeItem("jwt")}catch(n){localStorage.removeItem("jwt")}return t.matched.some((function(e){return e.meta.requiresAuth}))?null==localStorage.getItem("jwt")?r({name:"signin",params:{nextUrl:t.fullPath}}):(r(),he.updateRecentlyPlayed()):t.matched.some((function(e){return e.meta.guest}))?null==localStorage.getItem("jwt")?r():r({name:"home"}):r(),e.next=4,ct.hasUserSetUpSpotifyConnection();case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}e.t0="authorized"!==t.name;case 7:if(!e.t0){e.next=10;break}i=A.checkExpiration(localStorage.getItem("exp_time")),i&&(localStorage.removeItem("access_token"),window.location.href=ct.getAuthorizationUrl());case 10:if("authorized"!==t.name){e.next=18;break}return e.next=13,ct.getAccessToken(t.query.code);case 13:s=e.sent,u=new Date((Date.now()+1e3*s.exp_time)/1e3),localStorage.setItem("access_token",s.access_token),localStorage.setItem("exp_time",u.getTime()),bc.push("home");case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var mc=bc;Object(r["c"])(I).use(mc).mount("#app")},"5a4c":function(e,t,n){},"652a":function(e,t,n){"use strict";n("50c40")},"6c6a":function(e,t,n){"use strict";n("8857")},"71eb":function(e,t,n){"use strict";n("1876")},7710:function(e,t,n){"use strict";n("2f0e")},"7ee3":function(e,t,n){},8306:function(e,t,n){"use strict";n("7ee3")},8857:function(e,t,n){},"8aff":function(e,t,n){},"8b10":function(e,t,n){"use strict";n("f74d")},"8da7":function(e,t,n){"use strict";n("e668")},"9b72":function(e,t,n){},"9d32":function(e,t,n){"use strict";n("1103")},a06c:function(e,t,n){},a26d:function(e,t,n){"use strict";n("c3b4")},a839:function(e,t,n){"use strict";n("b672")},b62c:function(e,t,n){},b672:function(e,t,n){},bc1d:function(e,t,n){},bf80:function(e,t,n){"use strict";n("a06c")},c0f9:function(e,t,n){"use strict";n("5a4c")},c1c2:function(e,t,n){},c3b4:function(e,t,n){},c705:function(e,t,n){"use strict";n("e516")},c82a:function(e,t,n){"use strict";n("e139")},d409:function(e,t,n){"use strict";n("3fdb")},d971:function(e,t,n){"use strict";n("f330")},dcfa:function(e,t,n){"use strict";n("4844")},e112:function(e,t,n){},e139:function(e,t,n){},e1ca:function(e,t,n){"use strict";n("bc1d")},e4a8:function(e,t,n){"use strict";n("11d3")},e516:function(e,t,n){},e668:function(e,t,n){},f330:function(e,t,n){},f52f:function(e,t,n){"use strict";n("52a0")},f74d:function(e,t,n){}});
//# sourceMappingURL=app.d9b10e48.js.map